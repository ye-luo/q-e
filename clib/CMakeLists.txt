set(sources
    customize_signals.c
    stack.c
    c_mkdir.c
    copy.c
    cptimer.c
    eval_infix.c
    fletcher32.c
    md5.c
    md5_from_file.c
    memstat.c
    memusage.c
    ptrace.c
    sockets.c
    qmmm_aux.c
    qsort.c)

qe_add_library(qe_clib ${sources})

if(QE_ENABLE_PW2QMCPACK)
  set(sources_esh5 esh5_interfaces.c)
  qe_add_library(qe_clib_esh5 ${sources_esh5})
  set_target_properties(qe_clib_esh5 PROPERTIES COMPILE_DEFINITIONS "H5_USE_16_API")
  target_link_libraries(qe_clib_esh5 PRIVATE qe_hdf5_c)
endif()

###########################################################

qe_install_targets(qe_clib)
